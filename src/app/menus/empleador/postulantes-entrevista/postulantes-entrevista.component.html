<app-navbar-empleador></app-navbar-empleador>
<div class="container-sm mt-5 h-auto d-flex flex-column justify-content-center">
    <h1 *ngIf="carga" >Entrevistas Oferta  {{listarEntrevistas[0].nombreOferta}}</h1>
    <div class="d-flex flex-row justify-content-between ">
      <button class="btn btn-primary mt-3 w-25" type="submit" (click)="cancelar()" >Regresar</button>
      <button class="btn btn-primary mt-3 w-25" *ngIf="carga" type="submit" (click)="faseContrato(template)" >Pasar fase contratacion</button>  
    </div>
  <table class="table table-primary mt-5" *ngIf="carga" >
      <thead>
        <tr>
          <th scope="col">No</th>
          <th scope="col">Oferta</th>
          <th scope="col">usuario</th>
          <th scope="col">Fecha</th>
          <th scope="col">Hora</th>
          <th scope="col">Estado</th>
          <th scope="col">Seleccionar</th>
        </tr>
      </thead>
      <tbody *ngFor="let dato of listarEntrevistas let i = index" >
        <tr>
          <th>{{i+1}}</th>
          <td>{{dato.nombreOferta}}</td>
          <td>{{dato.nombre}}</td>
          <td>{{dato.fecha}}</td>
          <td>{{dato.hora}}</td>
          <td>{{dato.estado}}</td>
          <td ><button class="btn btn-primary" type="submit"(click)="seleccionarEntrevista(dato.codigo, dato.usuario, dato.codigoOferta)" *ngIf="dato.estado == 'PENDIENTE'">Seleccionar</button></td>
        </tr>
      </tbody>
  </table>
  <ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Mensaje</h4>
        <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="modalRef?.hide()">
          <span aria-hidden="true" class="visually-hidden">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          Noy hay almenos una entrevista finalizada para pasar a contratacion
      </div>
      <div class="d-flex w-100 justify-content-center align-items-center mb-3">
        <button type="button" class="btn btn-primary w-25" aria-label="Close" (click)="modalRef?.hide()">
            OK  
        </button>
      </div>
      
  </ng-template> 
  </div>
